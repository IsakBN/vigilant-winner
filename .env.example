# =============================================================================
# BundleNudge Environment Variables
# =============================================================================
# Copy to .env and fill in values before running

# =============================================================================
# SUBDOMAIN APPS
# =============================================================================

# Landing Page (packages/landing) - bundlenudge.com
LANDING_PORT=3000

# App Dashboard (packages/app-dashboard) - app.bundlenudge.com
APP_DASHBOARD_PORT=3001
APP_DATABASE_URL=postgresql://user:pass@host/bundlenudge_app_auth
APP_BETTER_AUTH_SECRET=your-app-secret-min-32-chars

# Admin Dashboard (packages/admin-dashboard) - admin.bundlenudge.com
ADMIN_DASHBOARD_PORT=3002
ADMIN_DATABASE_URL=postgresql://user:pass@host/bundlenudge_admin_auth
ADMIN_BETTER_AUTH_SECRET=your-admin-secret-min-32-chars

# =============================================================================
# OAUTH PROVIDERS (App Dashboard)
# =============================================================================

# GitHub OAuth - Create at: https://github.com/settings/applications/new
GITHUB_CLIENT_ID=Iv1.xxxxxxxxxxxxxxxx
GITHUB_CLIENT_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Google OAuth (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# =============================================================================
# DATABASE
# =============================================================================

# Cloudflare D1 - Main application data (configured in wrangler.toml)
# DB binding is automatic in Workers

# Neon Postgres - Better Auth authentication tables
DATABASE_URL=postgres://user:password@ep-xxx.us-east-2.aws.neon.tech/bundlenudge?sslmode=require

# =============================================================================
# STORAGE (Cloudflare R2)
# =============================================================================

# R2 bindings are configured in wrangler.toml (BUNDLES, BACKUP_BUCKET)
# These are needed for direct API access (e.g., presigned URLs)
R2_ENDPOINT=https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com
R2_ACCESS_KEY=your-r2-access-key
R2_SECRET_KEY=your-r2-secret-key
R2_BUCKET_NAME=bundlenudge-bundles

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Better Auth session signing (generate: openssl rand -hex 32)
BETTER_AUTH_SECRET=your-32-char-minimum-secret-here

# JWT signing for device tokens (generate: openssl rand -hex 32)
JWT_SECRET=your-32-char-jwt-secret-here

# AES-256-GCM encryption for sensitive data (generate: openssl rand -hex 32)
ENCRYPTION_KEY=your-32-char-encryption-key-here
BACKUP_ENCRYPTION_KEY=your-32-char-backup-key-here

# =============================================================================
# GITHUB APP (for repo integration)
# =============================================================================

# Create at: https://github.com/settings/apps/new
GITHUB_APP_ID=123456
GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----"
GITHUB_APP_WEBHOOK_SECRET=your-webhook-secret

# =============================================================================
# STRIPE BILLING
# =============================================================================

# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Get from: https://dashboard.stripe.com/webhooks (after creating endpoint)
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# EMAIL (Resend)
# =============================================================================

# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=BundleNudge <noreply@bundlenudge.com>

# =============================================================================
# BUILD SYSTEM
# =============================================================================

# Random token for GitHub Actions callbacks
BUILD_TOKEN=your-random-build-token

# Fly.io for build workers (optional)
FLY_API_TOKEN=FlyV1_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
FLY_APP_NAME=bundlenudge-builder

# =============================================================================
# CLOUDFLARE API (for D1 management)
# =============================================================================

CF_ACCOUNT_ID=your-cloudflare-account-id
CF_API_TOKEN=your-cloudflare-api-token
D1_DATABASE_ID=your-d1-database-id

# =============================================================================
# URLS
# =============================================================================

# Development
API_URL=http://localhost:8787
LANDING_URL=http://localhost:3000
APP_DASHBOARD_URL=http://localhost:3001
ADMIN_DASHBOARD_URL=http://localhost:3002

# Production:
# API_URL=https://api.bundlenudge.com
# LANDING_URL=https://bundlenudge.com
# APP_DASHBOARD_URL=https://app.bundlenudge.com
# ADMIN_DASHBOARD_URL=https://admin.bundlenudge.com

# =============================================================================
# OPTIONAL - Cold Storage Backup
# =============================================================================

# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_S3_BUCKET=bundlenudge-backups
# SLACK_BACKUP_WEBHOOK=https://hooks.slack.com/services/xxx/xxx/xxx
